<div class="row">
	<div class="col-md-12">
		<h1 class="text-center">DASHBOARD SI ENDOWMENT FUND</h1>
	</div>
</div>

<div class="row" style="margin-top: 50px" ng-show="user_aktif.role != 'Donatur'">
	<div class="col-md-12">
		<div class="col-md-12 well">
			<h3 class="text-center">Endowment Fund per Tahun</h3>

			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					
					<label>Tahun Maks.</label>
					<input class="form-control" type="number" ng-model="max_ei" ng-blur="set_tahun('ei', max_ei)" ng-init="max_ei=2015">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_ei" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
</div>
<div class="row" ng-show="user_aktif.role != 'Donatur'">
	<div class="col-md-6">
		<div class="col-md-12 well">
			<h3 class="text-center">Endowment Fund Tak Bersyarat</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					
					<label>Tahun Maks.</label>
					<input class="form-control" type="number" ng-model="max_etbi" ng-blur="set_tahun('etbi', max_etbi)" ng-init="max_etbi=2015">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_etbi" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<div class="col-md-12 well">
			<h3 class="text-center">Endowment Fund Bersyarat</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					
					<label>Tahun Maks.</label>
					<input class="form-control" type="number" ng-model="max_ebi" ng-blur="set_tahun('ebi', max_ebi)" ng-init="max_ebi=2015">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_ebi" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
</div>
<div class="row" ng-show="user_aktif.role != 'Donatur'">
	<div class="col-md-6">
		<div class="col-md-12 well">
			<h3 class="text-center">Donasi Bersyarat</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					
					<label>Tahun Maks.</label>
					<input class="form-control" type="number" ng-model="max_dbi" ng-blur="set_tahun('dbi', max_dbi)" ng-init="max_dbi=2015">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_dbi" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
	<div class="col-md-6">
		<div class="col-md-12 well">
			<h3 class="text-center">Jumlah Donatur</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					
					<label>Tahun Maks.</label>
					<input class="form-control" type="number" ng-model="max_jdon" ng-blur="set_tahun('jdon', max_jdon)" ng-init="max_jdon=2015">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_jdon" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="col-md-12 well">
			<h3 class="text-center">Endowment Fund per Fakultas</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				<form class="form-inline">
					<label>Tahun</label>
					<input class="form-control" type="number" ng-model="tahun_fak" ng-init="tahun_fak=2015" ng-blur="update_categorie_fp('fakultas')">
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_fak" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="col-md-8 col-md-offset-2 well">
			<h3 class="text-center">Endowment Fund per Program Studi</h3>
			
			<div class="col-md-12" style="margin: 20px 0px">
				
				<form class="form-inline">
					<label>Tahun</label>
					<input class="form-control" type="number" ng-model="tahun_pro" ng-init="tahun_pro=2015" ng-blur="update_categorie_fp(fak_pro)">
					<label>Fakultas</label>
					<select class="form-control" ng-model="fak_pro" ng-change="update_categorie_fp(fak_pro)">
						<option value="">- Pilih Fakultas -</option>
						<option ng-repeat="fk in fakultass" value="{{fk.id}}">{{fk.singkatan}} ({{fk.kode}})</option>
					</select>
				</form>
			</div>

			<div class="col-md-12">
				<highchart config="chart_pro" style="height: 500px">
				</highchart>
			</div>
		</div>
	</div>
</div>

<div class="row" ng-show="user_aktif.role == 'Donatur'">
	<div class="col-md-12">

		<h1 class="text-center" style="margin-bottom: 40px">Histori Donasi</h1>
		
		<br><br> <!-- KARAKTER ENTER -->

		<!-- BAR UNTUK PENCARIAN, TAMBAH DATA, FILTER -->
		<div class="row">
			<div class="col-md-12">
				<form class="form-inline">
					<div class="form-group">
						<select class="form-control" ng-model="fil_channel">
							<option value="">- Filter Channel -</option>
							<option value="Cash">Cash</option>
							<option value="Non-cash">Non-cash</option>
							<option value="Cek">Cek</option>
						</select>
					</div>

					<div class="form-group">
						<select class="form-control" ng-model="fil_jenis">
							<option value="">- Filter Jenis -</option>
							<option value="Dana Lestari Tidak Bersyarat">Dana Lestari Tidak Bersyarat</option>
							<option value="Dana Lestari Bersyarat">Dana Lestari Bersyarat</option>
							<option value="Donasi Bersyarat">Donasi Bersyarat</option>
						</select>
					</div>
					
					<div class="form-group pull-right">
						<label>Cari: </label>
						<input type="text" class="form-control" placeholder="filter and search" ng-model="q">
					</div>

					<div class="form-group pull-right" style="margin-right: 15px">
						<label>Tampilan per Halaman: </label>
						<input type="number" class="form-control" ng-model="pageSize" style="width: 70px">
					</div>

				</form>
			</div>
		</div>

		<circle-spinner ng-show="is_loading"></circle-spinner>

		<table ng-show="!is_loading" id="tabel_donasi" class="table table-bordered table-condensed table-hover" style="margin-top: 20px">
			<thead>
				<tr>
					<th class="text-center" rowspan="2">No.</th>
					<th class="text-center" rowspan="2">Tanggal</th>
					<th class="text-center" rowspan="2">Nama</th>
					<th class="text-center" rowspan="2">Jml. Donasi</th>
					<th class="text-center" rowspan="2">Termin</th>
					<th class="text-center" rowspan="2">Channel</th>
					<th colspan="3" class="text-center">Jenis</th>
					<th class="text-center" rowspan="2">Syarat</th>
					<th class="text-center" rowspan="2">Kota</th>
				</tr>
				<tr>
					<th class="text-center">Dana Lestari<br>Tidak Bersyarat</th>
					<th class="text-center">Dana Lestari<br>Bersyarat</th>
					<th class="text-center">Donasi<br>Bersyarat</th>
				</tr>
			</thead>

			<tbody>
				<tr dir-paginate="donasi in filtered_donasi | filter:q | itemsPerPage: pageSize | channel: fil_channel | jenis: fil_jenis" current-page="page_now">
					<td>{{($index+1)+(pageSize*(page_now-1))}}</td>
					<td>{{donasi.tanggal | date:'dd-MM-yyyy'}}</td>
					<td>{{donasi.nama_donatur}}</td>
					<td class="text-right">{{donasi.nominal | currency:"Rp. "}}</td>
					<td>{{donasi.termin}}</td>
					<td>{{donasi.channel}}</td>
					<td class="text-center"><i class="{{(donasi.jenis=='Dana Lestari Tidak Bersyarat')?'glyphicon glyphicon-ok-sign':''}}"></i></td>
					<td class="text-center"><i class="{{(donasi.jenis=='Dana Lestari Bersyarat')?'glyphicon glyphicon-ok-sign':''}}"></i></td>
					<td class="text-center"><i class="{{(donasi.jenis=='Donasi Bersyarat')?'glyphicon glyphicon-ok-sign':''}}"></i></td>
					<td>{{donasi.syarat}}</td>
					<td>{{donasi.kota}}</td>
				</tr>
			</tbody>
		</table>

		<div class="row">
			<div class="text-center col-md-12">
				<dir-pagination-controls boundary-links="true">
				</dir-pagination-controls>
			</div>
		</div>
	</div>
</div>